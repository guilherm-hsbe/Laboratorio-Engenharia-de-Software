<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

    <title>Atividade: Carro</title>
</head>
<body class="container border border-3 rounded fw-lighter bg-light shadow fs-5 position-absolute top-50 start-50 translate-middle p-4 col-md-2">
    <div class="form">

        <label for="campoAno">Ano</label>
        <input type="text" id="campoAno" class="cano form-control mt-2 mb-3"></input>

        <label for="campoKm">Kilometragem</label>
        <input type="text" id="campoKm" class="ckm form-control mt-2 mb-3"></input>

        <label for="campoValor">Valor</label>
        <input type="text" id="campoValor" class="cvalor form-control mt-2 mb-2"></input>

        <input type="submit" value="Enviar" class="cenviar form-control mt-4 bg-dark text-light">
    </div>

    <script>
        document.getElementById("cenviar").addEventListener("click", function(){
            //Referências
            var anoValue = document.querySelector('.campoAno');
            var kmValue = document.querySelector('.campoKm');
            var valorValue = document.querySelector('.campoValor');

            //Objeto
            var carro = {
                ano: anoValue,
                km: kmValue,
                valor: valorValue,

                //Função - calcula tempo de utilização
                anosUtilizacao: function(){
                    var data = new Date();
                    var anoAtual = data.getYear();
                    var tempoUti = anoAtual - this.ano;
                    return "Tempo de Utilização: " + tempoUti;
                },

                //Função - calcula valor de mercado
                valorMercado: function(){
                    var kmAno = this.km/tempoUti;

                    if(kmAno <= 30.000){
                        var valorM = (this.valor*110)/100;
                        return "Valor de Mercado: " + valorM;
                    }

                    else if(kmAno > 30.000 && kmAno <= 50.000){
                        return "Valor de Mercado: " + this.valor;
                    }

                    else{
                        var valorM = (this.valor*90)/100;
                        return "Valor de Mercado: " + valorM;
                    }
                }
            };
        }); 
    </script>
   
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
</body>
</html>